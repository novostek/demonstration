<%= form_for(customer) do |f| %>
  <% if customer.errors.any? %>
    <div id="error_explanation" class="card-panel red white-text">
      <h5><%= t('errors.template.header')  %>:</h5>

      <ul>
      <% customer.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<div class="card-panel">
  
  <div class="input-field">

    <%= f.label :name %>
    <%= f.text_field :name, required: true %>
    
  </div>

  <div class="input-field">


    <%= f.select :category, Customer.category.options, {prompt: true},{onchange:"type_select()"} %>
    <%= f.label :category %>
    
  </div>

  <div class="input-field">

    <%= f.label :document_id %>
    <%= f.text_field :document_id %>
    
  </div>

  <div class="input-field">


    <%= f.date_field :since, value: customer.new_record? ? Time.now.strftime('%Y-%m-%d') : customer.since.strftime('%Y-%m-%d') %>
    <%= f.label :since %>
    
  </div>

  <div class="input-field">

    <%= f.label :code %>
    <%= f.text_field :code %>
    
  </div>

  <div class="input-field hide" id="birthdate">


    <%= f.date_field :birthdate %> <!-- , class:"datepicker" -->
    <%= f.label :birthdate %>
    
  </div>



</div>
  <div class="actions">
    <%= f.submit t('button.save'), class:"btn" %>
  </div>
<% end %>

<%= content_for :scripts do %>
  <script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
        type_select();
    });
      function type_select()
      {
          if ($("#customer_category").val() == "person")
          {
              $("#birthdate").removeClass("hide");
          }
          else
          {
              $("#birthdate").addClass("hide");
              $("#customer_birthdate").val("");
          }
      }
  </script>
<% end %>